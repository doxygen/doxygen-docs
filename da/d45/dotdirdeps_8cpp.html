<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Doxygen: src/dotdirdeps.cpp File Reference</title>
<link rel="icon" href="../../doxygen.ico" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doc_internal.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Doxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('da/d45/dotdirdeps_8cpp.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">dotdirdeps.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d3/dcf/dotdirdeps_8h_source.html">dotdirdeps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d3c/util_8h_source.html">util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/da1/doxygen_8h_source.html">doxygen.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d16/config_8h_source.html">config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/db2/image_8h_source.html">image.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/d3b/dotnode_8h_source.html">dotnode.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;cstdint&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Include dependency graph for dotdirdeps.cpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/d0d/dotdirdeps_8cpp__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="../../da/d45/dotdirdeps_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properties are used to format the directories in the graph distinctively.  <a href="../../d0/d22/struct_dot_dir_property.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d6f/class_dot_dir_property_builder.html">DotDirPropertyBuilder</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builder helper to create instances of the <a class="el" href="../../d0/d22/struct_dot_dir_property.html" title="Properties are used to format the directories in the graph distinctively.">DotDirProperty</a> struct.  <a href="../../d1/d6f/class_dot_dir_property_builder.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa012bdc6c0e896cccb8121b3c6b7ad60" id="r_aa012bdc6c0e896cccb8121b3c6b7ad60"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a> = std::map&lt;std::string,const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *&gt;</td></tr>
<tr class="separator:aa012bdc6c0e896cccb8121b3c6b7ad60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0540771f72e56700a0d30f72580d0065" id="r_a0540771f72e56700a0d30f72580d0065"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; std::pair&lt; std::unique_ptr&lt; <a class="el" href="../../d6/db3/class_dir_relation.html">DirRelation</a> &gt;, bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0540771f72e56700a0d30f72580d0065">DirRelations</a></td></tr>
<tr class="memdesc:a0540771f72e56700a0d30f72580d0065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Elements consist of (1) directory relation and (2) whether it is pointing only to inherited dependees.  <br /></td></tr>
<tr class="separator:a0540771f72e56700a0d30f72580d0065"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a683792f7f7df231861acd54ff905211d" id="r_a683792f7f7df231861acd54ff905211d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d9/d45/class_q_c_string.html">QCString</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a683792f7f7df231861acd54ff905211d">getDirectoryBackgroundColor</a> (int depthIndex)</td></tr>
<tr class="memdesc:a683792f7f7df231861acd54ff905211d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a DOT color name according to the directory depth.  <br /></td></tr>
<tr class="separator:a683792f7f7df231861acd54ff905211d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9febe225f49a478f1ac4ab8c92786d" id="r_aed9febe225f49a478f1ac4ab8c92786d"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed9febe225f49a478f1ac4ab8c92786d">getDirectoryBorderColor</a> (const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;property)</td></tr>
<tr class="memdesc:aed9febe225f49a478f1ac4ab8c92786d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a DOT color name according to the directory properties.  <br /></td></tr>
<tr class="separator:aed9febe225f49a478f1ac4ab8c92786d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa3fa8ed5c1cb6cfe4a5f821d1c776f" id="r_a6aa3fa8ed5c1cb6cfe4a5f821d1c776f"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6aa3fa8ed5c1cb6cfe4a5f821d1c776f">getDirectoryBorderStyle</a> (const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;property)</td></tr>
<tr class="memdesc:a6aa3fa8ed5c1cb6cfe4a5f821d1c776f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a DOT node style according to the directory properties.  <br /></td></tr>
<tr class="separator:a6aa3fa8ed5c1cb6cfe4a5f821d1c776f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120714f9fe392105dac20e1759dcb1d6" id="r_a120714f9fe392105dac20e1759dcb1d6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a120714f9fe392105dac20e1759dcb1d6">common_attributes</a> (<a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;t, const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const dir, const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;prop)</td></tr>
<tr class="separator:a120714f9fe392105dac20e1759dcb1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840611db0f9ff308b7167b3fd3e0c4d2" id="r_a840611db0f9ff308b7167b3fd3e0c4d2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a840611db0f9ff308b7167b3fd3e0c4d2">drawDirectory</a> (<a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;t, const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const directory, const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;property, <a class="el" href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a> &amp;directoriesInGraph, int startLevel)</td></tr>
<tr class="memdesc:a840611db0f9ff308b7167b3fd3e0c4d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts DOT code for drawing directory to stream and adds it to the list.  <br /></td></tr>
<tr class="separator:a840611db0f9ff308b7167b3fd3e0c4d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20837cde372c359b1ce5070096d472e0" id="r_a20837cde372c359b1ce5070096d472e0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20837cde372c359b1ce5070096d472e0">isAtMaxDepth</a> (const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const directory, const int startLevel)</td></tr>
<tr class="memdesc:a20837cde372c359b1ce5070096d472e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks, if the directory is a the maximum drawn directory level.  <br /></td></tr>
<tr class="separator:a20837cde372c359b1ce5070096d472e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c294bd8cf4c31b846744d5e5ca845fa" id="r_a8c294bd8cf4c31b846744d5e5ca845fa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c294bd8cf4c31b846744d5e5ca845fa">drawClusterOpening</a> (<a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;outputStream, const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const directory, const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;directoryProperty, <a class="el" href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a> &amp;directoriesInGraph, const bool isAncestor, int startLevel)</td></tr>
<tr class="memdesc:a8c294bd8cf4c31b846744d5e5ca845fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes DOT code for opening a cluster subgraph to stream.  <br /></td></tr>
<tr class="separator:a8c294bd8cf4c31b846744d5e5ca845fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec4e307f44771f6dfa0a0fe76c00495" id="r_a3ec4e307f44771f6dfa0a0fe76c00495"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ec4e307f44771f6dfa0a0fe76c00495">drawClusterClosing</a> (<a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;t)</td></tr>
<tr class="separator:a3ec4e307f44771f6dfa0a0fe76c00495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cae8568157c4b4b1c9a96af855d2b85" id="r_a4cae8568157c4b4b1c9a96af855d2b85"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4cae8568157c4b4b1c9a96af855d2b85">addDependencies</a> (<a class="el" href="#a0540771f72e56700a0d30f72580d0065">DirRelations</a> &amp;dependencies, const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const srcDir, bool isLeaf)</td></tr>
<tr class="memdesc:a4cae8568157c4b4b1c9a96af855d2b85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembles a list of the directory relations and whether or not they result from "inheritance".  <br /></td></tr>
<tr class="separator:a4cae8568157c4b4b1c9a96af855d2b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa598dce9105a7992d33b10a15beb70d5" id="r_aa598dce9105a7992d33b10a15beb70d5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa598dce9105a7992d33b10a15beb70d5">drawTree</a> (<a class="el" href="#a0540771f72e56700a0d30f72580d0065">DirRelations</a> &amp;dependencies, <a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;t, const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const directory, int startLevel, <a class="el" href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a> &amp;directoriesInGraph, const bool isTreeRoot)</td></tr>
<tr class="memdesc:aa598dce9105a7992d33b10a15beb70d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursively draws directory tree.  <br /></td></tr>
<tr class="separator:aa598dce9105a7992d33b10a15beb70d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e7090b3ce2c42151afd6b83298096f" id="r_ac4e7090b3ce2c42151afd6b83298096f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4e7090b3ce2c42151afd6b83298096f">writeDotDirDepGraph</a> (<a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;t, const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *dd, bool linkRelations)</td></tr>
<tr class="memdesc:ac4e7090b3ce2c42151afd6b83298096f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write DOT code for directory dependency graph.  <br /></td></tr>
<tr class="separator:ac4e7090b3ce2c42151afd6b83298096f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aa012bdc6c0e896cccb8121b3c6b7ad60" name="aa012bdc6c0e896cccb8121b3c6b7ad60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa012bdc6c0e896cccb8121b3c6b7ad60">&#9670;&#160;</a></span>DirDefMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a> = std::map&lt;std::string,const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00034">34</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>

</div>
</div>
<a id="a0540771f72e56700a0d30f72580d0065" name="a0540771f72e56700a0d30f72580d0065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0540771f72e56700a0d30f72580d0065">&#9670;&#160;</a></span>DirRelations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt; std::pair&lt; std::unique_ptr&lt;<a class="el" href="../../d6/db3/class_dir_relation.html">DirRelation</a>&gt;, bool&gt; &gt; <a class="el" href="#a0540771f72e56700a0d30f72580d0065">DirRelations</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Elements consist of (1) directory relation and (2) whether it is pointing only to inherited dependees. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00061">61</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4cae8568157c4b4b1c9a96af855d2b85" name="a4cae8568157c4b4b1c9a96af855d2b85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cae8568157c4b4b1c9a96af855d2b85">&#9670;&#160;</a></span>addDependencies()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void addDependencies </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a0540771f72e56700a0d30f72580d0065">DirRelations</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>dependencies</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const</td>          <td class="paramname"><span class="paramname"><em>srcDir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isLeaf</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assembles a list of the directory relations and whether or not they result from "inheritance". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dependencies</td><td>Array to add the dependencies to. </td></tr>
    <tr><td class="paramname">srcDir</td><td>is the source of the dependency. </td></tr>
    <tr><td class="paramname">isLeaf</td><td>true, if no children are drawn for this directory. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00215">215</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  216</span>{</div>
<div class="line"><span class="lineno">  217</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;usedDirectory : srcDir-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#acf2258b5d619e2eb34f09dd33d34de0f">usedDirs</a>())</div>
<div class="line"><span class="lineno">  218</span>  {</div>
<div class="line"><span class="lineno">  219</span>    <span class="keyword">const</span> <span class="keyword">auto</span> dstDir = usedDirectory-&gt;dir();</div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">if</span> (!dstDir-&gt;isParentOf(srcDir) &amp;&amp; (isLeaf || usedDirectory-&gt;hasDirectSrcDeps()))</div>
<div class="line"><span class="lineno">  221</span>    {</div>
<div class="line"><span class="lineno">  222</span>      <a class="code hl_class" href="../../d9/d45/class_q_c_string.html">QCString</a> relationName;</div>
<div class="line"><span class="lineno">  223</span>      relationName.<a class="code hl_function" href="../../d9/d45/class_q_c_string.html#aa2dccf89cb25346c3ee81d75aa5859da">sprintf</a>(<span class="stringliteral">&quot;dir_%06d_%06d&quot;</span>, srcDir-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#a5fa1d07e132f8bd8d7f2ee10e712e978">dirIndex</a>(), dstDir-&gt;dirIndex());</div>
<div class="line"><span class="lineno">  224</span>      <span class="keywordtype">bool</span> directRelation = isLeaf ? usedDirectory-&gt;hasDirectDstDeps() : usedDirectory-&gt;hasDirectDeps();</div>
<div class="line"><span class="lineno">  225</span>      dependencies.emplace_back(</div>
<div class="line"><span class="lineno">  226</span>          std::make_unique&lt;DirRelation&gt;(relationName, srcDir, usedDirectory.get()),</div>
<div class="line"><span class="lineno">  227</span>          directRelation);</div>
<div class="line"><span class="lineno">  228</span>    }</div>
<div class="line"><span class="lineno">  229</span>  }</div>
<div class="line"><span class="lineno">  230</span>}</div>
<div class="ttc" id="aclass_dir_def_html_a5fa1d07e132f8bd8d7f2ee10e712e978"><div class="ttname"><a href="../../d4/dd4/class_dir_def.html#a5fa1d07e132f8bd8d7f2ee10e712e978">DirDef::dirIndex</a></div><div class="ttdeci">virtual int dirIndex() const =0</div></div>
<div class="ttc" id="aclass_dir_def_html_acf2258b5d619e2eb34f09dd33d34de0f"><div class="ttname"><a href="../../d4/dd4/class_dir_def.html#acf2258b5d619e2eb34f09dd33d34de0f">DirDef::usedDirs</a></div><div class="ttdeci">virtual const UsedDirLinkedMap &amp; usedDirs() const =0</div></div>
<div class="ttc" id="aclass_q_c_string_html"><div class="ttname"><a href="../../d9/d45/class_q_c_string.html">QCString</a></div><div class="ttdoc">This is an alternative implementation of QCString.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d5c/qcstring_8h_source.html#l00100">qcstring.h:101</a></div></div>
<div class="ttc" id="aclass_q_c_string_html_aa2dccf89cb25346c3ee81d75aa5859da"><div class="ttname"><a href="../../d9/d45/class_q_c_string.html#aa2dccf89cb25346c3ee81d75aa5859da">QCString::sprintf</a></div><div class="ttdeci">QCString &amp; sprintf(const char *format,...)</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d3e/qcstring_8cpp_source.html#l00029">qcstring.cpp:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/dd4/class_dir_def.html#a5fa1d07e132f8bd8d7f2ee10e712e978">DirDef::dirIndex()</a>, <a class="el" href="../../d5/d3e/qcstring_8cpp_source.html#l00029">QCString::sprintf()</a>, and <a class="el" href="../../d4/dd4/class_dir_def.html#acf2258b5d619e2eb34f09dd33d34de0f">DirDef::usedDirs()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00233">drawTree()</a>.</p>

</div>
</div>
<a id="a120714f9fe392105dac20e1759dcb1d6" name="a120714f9fe392105dac20e1759dcb1d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a120714f9fe392105dac20e1759dcb1d6">&#9670;&#160;</a></span>common_attributes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp; common_attributes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const</td>          <td class="paramname"><span class="paramname"><em>dir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>prop</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00137">137</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  138</span>{</div>
<div class="line"><span class="lineno">  139</span>  <a class="code hl_class" href="../../d9/d45/class_q_c_string.html">QCString</a> url = dir-&gt;<a class="code hl_function" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">getOutputFileBase</a>();</div>
<div class="line"><span class="lineno">  140</span>  <a class="code hl_function" href="../../df/d2d/util_8cpp.html#afeb116177e3265cffe5a3b810461194f">addHtmlExtensionIfMissing</a>(url);</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">return</span> t &lt;&lt;</div>
<div class="line"><span class="lineno">  142</span>    <span class="stringliteral">&quot;style=\&quot;&quot;</span>   &lt;&lt; <a class="code hl_function" href="#a6aa3fa8ed5c1cb6cfe4a5f821d1c776f">getDirectoryBorderStyle</a>(prop) &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  143</span>    <span class="stringliteral">&quot;URL=\&quot;&quot;</span>     &lt;&lt; url &lt;&lt; <span class="stringliteral">&quot;\&quot;,&quot;</span></div>
<div class="line"><span class="lineno">  144</span>    <span class="stringliteral">&quot;tooltip=\&quot;&quot;</span> &lt;&lt; <a class="code hl_function" href="../../df/d58/dotnode_8cpp.html#a1833cf88609789ddbebeeb77747e593f">escapeTooltip</a>(dir-&gt;<a class="code hl_function" href="../../d5/dcc/class_definition.html#a5915353219702c6ea73cc1476bda793a">briefDescriptionAsTooltip</a>()) &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  145</span>}</div>
<div class="ttc" id="aclass_definition_html_a5915353219702c6ea73cc1476bda793a"><div class="ttname"><a href="../../d5/dcc/class_definition.html#a5915353219702c6ea73cc1476bda793a">Definition::briefDescriptionAsTooltip</a></div><div class="ttdeci">virtual QCString briefDescriptionAsTooltip() const =0</div></div>
<div class="ttc" id="aclass_definition_html_acabecdc6bfda2015811eed5f3436322d"><div class="ttname"><a href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">Definition::getOutputFileBase</a></div><div class="ttdeci">virtual QCString getOutputFileBase() const =0</div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_a6aa3fa8ed5c1cb6cfe4a5f821d1c776f"><div class="ttname"><a href="#a6aa3fa8ed5c1cb6cfe4a5f821d1c776f">getDirectoryBorderStyle</a></div><div class="ttdeci">static std::string getDirectoryBorderStyle(const DotDirProperty &amp;property)</div><div class="ttdoc">Returns a DOT node style according to the directory properties.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00119">dotdirdeps.cpp:119</a></div></div>
<div class="ttc" id="adotnode_8cpp_html_a1833cf88609789ddbebeeb77747e593f"><div class="ttname"><a href="../../df/d58/dotnode_8cpp.html#a1833cf88609789ddbebeeb77747e593f">escapeTooltip</a></div><div class="ttdeci">QCString escapeTooltip(const QCString &amp;tooltip)</div><div class="ttdef"><b>Definition</b> <a href="../../df/d58/dotnode_8cpp_source.html#l00099">dotnode.cpp:99</a></div></div>
<div class="ttc" id="autil_8cpp_html_afeb116177e3265cffe5a3b810461194f"><div class="ttname"><a href="../../df/d2d/util_8cpp.html#afeb116177e3265cffe5a3b810461194f">addHtmlExtensionIfMissing</a></div><div class="ttdeci">void addHtmlExtensionIfMissing(QCString &amp;fName)</div><div class="ttdef"><b>Definition</b> <a href="../../df/d2d/util_8cpp_source.html#l05243">util.cpp:5243</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/d2d/util_8cpp_source.html#l05243">addHtmlExtensionIfMissing()</a>, <a class="el" href="../../d5/dcc/class_definition.html#a5915353219702c6ea73cc1476bda793a">Definition::briefDescriptionAsTooltip()</a>, <a class="el" href="../../df/d58/dotnode_8cpp_source.html#l00099">escapeTooltip()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00119">getDirectoryBorderStyle()</a>, and <a class="el" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">Definition::getOutputFileBase()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00179">drawClusterOpening()</a>, and <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00155">drawDirectory()</a>.</p>

</div>
</div>
<a id="a3ec4e307f44771f6dfa0a0fe76c00495" name="a3ec4e307f44771f6dfa0a0fe76c00495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec4e307f44771f6dfa0a0fe76c00495">&#9670;&#160;</a></span>drawClusterClosing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drawClusterClosing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>t</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00204">204</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  205</span>{</div>
<div class="line"><span class="lineno">  206</span>  t &lt;&lt; <span class="stringliteral">&quot;  }\n&quot;</span>;</div>
<div class="line"><span class="lineno">  207</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00233">drawTree()</a>.</p>

</div>
</div>
<a id="a8c294bd8cf4c31b846744d5e5ca845fa" name="a8c294bd8cf4c31b846744d5e5ca845fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c294bd8cf4c31b846744d5e5ca845fa">&#9670;&#160;</a></span>drawClusterOpening()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drawClusterOpening </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>outputStream</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const</td>          <td class="paramname"><span class="paramname"><em>directory</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>directoryProperty</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>directoriesInGraph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool</td>          <td class="paramname"><span class="paramname"><em>isAncestor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>startLevel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes DOT code for opening a cluster subgraph to stream. </p>
<p>Ancestor clusters directly get a label. Other clusters get a plain text node with a label instead. This is because the plain text node can be used to draw dependency relationships. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00179">179</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  181</span>{</div>
<div class="line"><span class="lineno">  182</span>  outputStream &lt;&lt; <span class="stringliteral">&quot;  subgraph cluster&quot;</span> &lt;&lt; directory-&gt;<a class="code hl_function" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">getOutputFileBase</a>() &lt;&lt; <span class="stringliteral">&quot; {\n&quot;</span></div>
<div class="line"><span class="lineno">  183</span>      <span class="stringliteral">&quot;    graph [ &quot;</span></div>
<div class="line"><span class="lineno">  184</span>      <span class="stringliteral">&quot;bgcolor=\&quot;&quot;</span>  &lt;&lt; <a class="code hl_function" href="#a683792f7f7df231861acd54ff905211d">getDirectoryBackgroundColor</a>(directory-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#a033ad6b8c0287ed15da29dadca48eb6f">level</a>()-startLevel) &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  185</span>      <span class="stringliteral">&quot;pencolor=\&quot;&quot;</span> &lt;&lt; <a class="code hl_function" href="#aed9febe225f49a478f1ac4ab8c92786d">getDirectoryBorderColor</a>(directoryProperty) &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  186</span>      <span class="stringliteral">&quot;label=\&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  187</span>  <span class="keywordflow">if</span> (isAncestor)</div>
<div class="line"><span class="lineno">  188</span>  {</div>
<div class="line"><span class="lineno">  189</span>    outputStream &lt;&lt; <a class="code hl_function" href="../../dd/d7e/class_dot_node.html#a754d8cc504867a57b668742944836f5d">DotNode::convertLabel</a>(directory-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#aa198c67f6d58fdae57c8502913ed35d7">shortName</a>());</div>
<div class="line"><span class="lineno">  190</span>  }</div>
<div class="line"><span class="lineno">  191</span>  outputStream &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  192</span>       &lt;&lt; <a class="code hl_define" href="../../db/d16/config_8h.html#a737741e6991bdb5694a50075437a9d89">Config_getString</a>(DOT_COMMON_ATTR) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><span class="lineno">  193</span>  <a class="code hl_function" href="#a120714f9fe392105dac20e1759dcb1d6">common_attributes</a>(outputStream, directory, directoryProperty)</div>
<div class="line"><span class="lineno">  194</span>      &lt;&lt; <span class="stringliteral">&quot;]\n&quot;</span>;</div>
<div class="line"><span class="lineno">  195</span>  <span class="keywordflow">if</span> (!isAncestor)</div>
<div class="line"><span class="lineno">  196</span>  {</div>
<div class="line"><span class="lineno">  197</span>    outputStream &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; directory-&gt;<a class="code hl_function" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">getOutputFileBase</a>() &lt;&lt; <span class="stringliteral">&quot; [shape=plaintext, &quot;</span></div>
<div class="line"><span class="lineno">  198</span>        <span class="stringliteral">&quot;label=\&quot;&quot;</span> &lt;&lt; <a class="code hl_function" href="../../dd/d7e/class_dot_node.html#a754d8cc504867a57b668742944836f5d">DotNode::convertLabel</a>(directory-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#aa198c67f6d58fdae57c8502913ed35d7">shortName</a>()) &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span></div>
<div class="line"><span class="lineno">  199</span>        <span class="stringliteral">&quot;];\n&quot;</span>;</div>
<div class="line"><span class="lineno">  200</span>    directoriesInGraph.emplace(directory-&gt;<a class="code hl_function" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">getOutputFileBase</a>().<a class="code hl_function" href="../../d9/d45/class_q_c_string.html#a875e9ad762554ef12f3ed69b015bb245">str</a>(), directory);</div>
<div class="line"><span class="lineno">  201</span>  }</div>
<div class="line"><span class="lineno">  202</span>}</div>
<div class="ttc" id="aclass_dir_def_html_a033ad6b8c0287ed15da29dadca48eb6f"><div class="ttname"><a href="../../d4/dd4/class_dir_def.html#a033ad6b8c0287ed15da29dadca48eb6f">DirDef::level</a></div><div class="ttdeci">virtual int level() const =0</div></div>
<div class="ttc" id="aclass_dir_def_html_aa198c67f6d58fdae57c8502913ed35d7"><div class="ttname"><a href="../../d4/dd4/class_dir_def.html#aa198c67f6d58fdae57c8502913ed35d7">DirDef::shortName</a></div><div class="ttdeci">virtual const QCString shortName() const =0</div></div>
<div class="ttc" id="aclass_dot_node_html_a754d8cc504867a57b668742944836f5d"><div class="ttname"><a href="../../dd/d7e/class_dot_node.html#a754d8cc504867a57b668742944836f5d">DotNode::convertLabel</a></div><div class="ttdeci">static QCString convertLabel(const QCString &amp;, bool htmlLike=false)</div><div class="ttdef"><b>Definition</b> <a href="../../df/d58/dotnode_8cpp_source.html#l00196">dotnode.cpp:196</a></div></div>
<div class="ttc" id="aclass_q_c_string_html_a875e9ad762554ef12f3ed69b015bb245"><div class="ttname"><a href="../../d9/d45/class_q_c_string.html#a875e9ad762554ef12f3ed69b015bb245">QCString::str</a></div><div class="ttdeci">const std::string &amp; str() const</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d5c/qcstring_8h_source.html#l00526">qcstring.h:526</a></div></div>
<div class="ttc" id="aconfig_8h_html_a737741e6991bdb5694a50075437a9d89"><div class="ttname"><a href="../../db/d16/config_8h.html#a737741e6991bdb5694a50075437a9d89">Config_getString</a></div><div class="ttdeci">#define Config_getString(name)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d16/config_8h_source.html#l00032">config.h:32</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_a120714f9fe392105dac20e1759dcb1d6"><div class="ttname"><a href="#a120714f9fe392105dac20e1759dcb1d6">common_attributes</a></div><div class="ttdeci">static TextStream &amp; common_attributes(TextStream &amp;t, const DirDef *const dir, const DotDirProperty &amp;prop)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00137">dotdirdeps.cpp:137</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_a683792f7f7df231861acd54ff905211d"><div class="ttname"><a href="#a683792f7f7df231861acd54ff905211d">getDirectoryBackgroundColor</a></div><div class="ttdeci">static QCString getDirectoryBackgroundColor(int depthIndex)</div><div class="ttdoc">Returns a DOT color name according to the directory depth.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00064">dotdirdeps.cpp:64</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_aed9febe225f49a478f1ac4ab8c92786d"><div class="ttname"><a href="#aed9febe225f49a478f1ac4ab8c92786d">getDirectoryBorderColor</a></div><div class="ttdeci">static const char * getDirectoryBorderColor(const DotDirProperty &amp;property)</div><div class="ttdoc">Returns a DOT color name according to the directory properties.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00098">dotdirdeps.cpp:98</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00137">common_attributes()</a>, <a class="el" href="../../db/d16/config_8h_source.html#l00032">Config_getString</a>, <a class="el" href="../../df/d58/dotnode_8cpp_source.html#l00196">DotNode::convertLabel()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00064">getDirectoryBackgroundColor()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00098">getDirectoryBorderColor()</a>, <a class="el" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">Definition::getOutputFileBase()</a>, <a class="el" href="../../d4/dd4/class_dir_def.html#a033ad6b8c0287ed15da29dadca48eb6f">DirDef::level()</a>, <a class="el" href="../../d4/dd4/class_dir_def.html#aa198c67f6d58fdae57c8502913ed35d7">DirDef::shortName()</a>, and <a class="el" href="../../d7/d5c/qcstring_8h_source.html#l00526">QCString::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00233">drawTree()</a>, and <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00287">writeDotDirDepGraph()</a>.</p>

</div>
</div>
<a id="a840611db0f9ff308b7167b3fd3e0c4d2" name="a840611db0f9ff308b7167b3fd3e0c4d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840611db0f9ff308b7167b3fd3e0c4d2">&#9670;&#160;</a></span>drawDirectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drawDirectory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const</td>          <td class="paramname"><span class="paramname"><em>directory</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>property</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>directoriesInGraph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>startLevel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Puts DOT code for drawing directory to stream and adds it to the list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">t</td><td>stream to which the DOT code is written to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">directory</td><td>will be mapped to a node in DOT code </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">property</td><td>are evaluated for formatting </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">directoriesInGraph</td><td>lists the directories which have been written to the output stream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">startLevel</td><td>current level to calculate relative distances from to determine the background color </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00155">155</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  157</span>{</div>
<div class="line"><span class="lineno">  158</span>  t &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; directory-&gt;<a class="code hl_function" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">getOutputFileBase</a>() &lt;&lt; <span class="stringliteral">&quot; [&quot;</span></div>
<div class="line"><span class="lineno">  159</span>      <span class="stringliteral">&quot;label=\&quot;&quot;</span>     &lt;&lt; <a class="code hl_function" href="../../dd/d7e/class_dot_node.html#a754d8cc504867a57b668742944836f5d">DotNode::convertLabel</a>(directory-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#aa198c67f6d58fdae57c8502913ed35d7">shortName</a>())                &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  160</span>      <span class="stringliteral">&quot;fillcolor=\&quot;&quot;</span> &lt;&lt; <a class="code hl_function" href="#a683792f7f7df231861acd54ff905211d">getDirectoryBackgroundColor</a>(directory-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#a033ad6b8c0287ed15da29dadca48eb6f">level</a>()-startLevel)   &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span></div>
<div class="line"><span class="lineno">  161</span>      <span class="stringliteral">&quot;color=\&quot;&quot;</span>     &lt;&lt; <a class="code hl_function" href="#aed9febe225f49a478f1ac4ab8c92786d">getDirectoryBorderColor</a>(property)                            &lt;&lt; <span class="stringliteral">&quot;\&quot;, &quot;</span>;</div>
<div class="line"><span class="lineno">  162</span>  <a class="code hl_function" href="#a120714f9fe392105dac20e1759dcb1d6">common_attributes</a>(t, directory, property)</div>
<div class="line"><span class="lineno">  163</span>      &lt;&lt; <span class="stringliteral">&quot;];\n&quot;</span>;</div>
<div class="line"><span class="lineno">  164</span>  directoriesInGraph.emplace(directory-&gt;<a class="code hl_function" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">getOutputFileBase</a>().<a class="code hl_function" href="../../d9/d45/class_q_c_string.html#a875e9ad762554ef12f3ed69b015bb245">str</a>(), directory);</div>
<div class="line"><span class="lineno">  165</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00137">common_attributes()</a>, <a class="el" href="../../df/d58/dotnode_8cpp_source.html#l00196">DotNode::convertLabel()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00064">getDirectoryBackgroundColor()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00098">getDirectoryBorderColor()</a>, <a class="el" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">Definition::getOutputFileBase()</a>, <a class="el" href="../../d4/dd4/class_dir_def.html#a033ad6b8c0287ed15da29dadca48eb6f">DirDef::level()</a>, <a class="el" href="../../d4/dd4/class_dir_def.html#aa198c67f6d58fdae57c8502913ed35d7">DirDef::shortName()</a>, and <a class="el" href="../../d7/d5c/qcstring_8h_source.html#l00526">QCString::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00233">drawTree()</a>.</p>

</div>
</div>
<a id="aa598dce9105a7992d33b10a15beb70d5" name="aa598dce9105a7992d33b10a15beb70d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa598dce9105a7992d33b10a15beb70d5">&#9670;&#160;</a></span>drawTree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drawTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a0540771f72e56700a0d30f72580d0065">DirRelations</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>dependencies</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const</td>          <td class="paramname"><span class="paramname"><em>directory</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>startLevel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>directoriesInGraph</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool</td>          <td class="paramname"><span class="paramname"><em>isTreeRoot</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursively draws directory tree. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00233">233</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  235</span>{</div>
<div class="line"><span class="lineno">  236</span>  <span class="keywordflow">if</span> (!directory-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#afa5aedb69f8e651bb29d872f2f143a8d">hasSubdirs</a>())</div>
<div class="line"><span class="lineno">  237</span>  {</div>
<div class="line"><span class="lineno">  238</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> directoryProperty = <a class="code hl_class" href="../../d1/d6f/class_dot_dir_property_builder.html">DotDirPropertyBuilder</a>().<a class="code hl_function" href="../../d1/d6f/class_dot_dir_property_builder.html#a20342858b48a1b0233393928ffc85b57">makeOriginal</a>(isTreeRoot);</div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_function" href="#a840611db0f9ff308b7167b3fd3e0c4d2">drawDirectory</a>(t, directory, directoryProperty, directoriesInGraph,startLevel);</div>
<div class="line"><span class="lineno">  240</span>    <a class="code hl_function" href="#a4cae8568157c4b4b1c9a96af855d2b85">addDependencies</a>(dependencies, directory, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  241</span>  }</div>
<div class="line"><span class="lineno">  242</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  243</span>  {</div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a20837cde372c359b1ce5070096d472e0">isAtMaxDepth</a>(directory, startLevel)) <span class="comment">// maximum nesting level reached</span></div>
<div class="line"><span class="lineno">  245</span>    {</div>
<div class="line"><span class="lineno">  246</span>      <span class="keyword">const</span> <a class="code hl_struct" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> directoryProperty = <a class="code hl_class" href="../../d1/d6f/class_dot_dir_property_builder.html">DotDirPropertyBuilder</a>().<a class="code hl_function" href="../../d1/d6f/class_dot_dir_property_builder.html#a20342858b48a1b0233393928ffc85b57">makeOriginal</a>(isTreeRoot);</div>
<div class="line"><span class="lineno">  247</span>      <a class="code hl_function" href="#a840611db0f9ff308b7167b3fd3e0c4d2">drawDirectory</a>(t, directory, directoryProperty, directoriesInGraph,startLevel);</div>
<div class="line"><span class="lineno">  248</span>      <a class="code hl_function" href="#a4cae8568157c4b4b1c9a96af855d2b85">addDependencies</a>(dependencies, directory, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  249</span>    }</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">else</span> <span class="comment">// start a new nesting level</span></div>
<div class="line"><span class="lineno">  251</span>    {</div>
<div class="line"><span class="lineno">  252</span>      <span class="comment">// open cluster</span></div>
<div class="line"><span class="lineno">  253</span>      {</div>
<div class="line"><span class="lineno">  254</span>        <span class="keyword">const</span> <a class="code hl_struct" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> directoryProperty = <a class="code hl_class" href="../../d1/d6f/class_dot_dir_property_builder.html">DotDirPropertyBuilder</a>().<a class="code hl_function" href="../../d1/d6f/class_dot_dir_property_builder.html#a20342858b48a1b0233393928ffc85b57">makeOriginal</a>(isTreeRoot);</div>
<div class="line"><span class="lineno">  255</span>        <a class="code hl_function" href="#a8c294bd8cf4c31b846744d5e5ca845fa">drawClusterOpening</a>(t, directory, directoryProperty, directoriesInGraph, <span class="keyword">false</span>, startLevel);</div>
<div class="line"><span class="lineno">  256</span>        <a class="code hl_function" href="#a4cae8568157c4b4b1c9a96af855d2b85">addDependencies</a>(dependencies, directory, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  257</span>      }</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>      <span class="comment">// process all sub directories</span></div>
<div class="line"><span class="lineno">  260</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> subDirectory : directory-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#abc75cce4fc67690a3ebbd158e3d63938">subDirs</a>())</div>
<div class="line"><span class="lineno">  261</span>      {</div>
<div class="line"><span class="lineno">  262</span>        <a class="code hl_function" href="#aa598dce9105a7992d33b10a15beb70d5">drawTree</a>(dependencies, t, subDirectory, startLevel, directoriesInGraph, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  263</span>      }</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>      <span class="comment">// close cluster</span></div>
<div class="line"><span class="lineno">  266</span>      {</div>
<div class="line"><span class="lineno">  267</span>        <a class="code hl_function" href="#a3ec4e307f44771f6dfa0a0fe76c00495">drawClusterClosing</a>(t);</div>
<div class="line"><span class="lineno">  268</span>      }</div>
<div class="line"><span class="lineno">  269</span>    }</div>
<div class="line"><span class="lineno">  270</span>  }</div>
<div class="line"><span class="lineno">  271</span>}</div>
<div class="ttc" id="aclass_dir_def_html_abc75cce4fc67690a3ebbd158e3d63938"><div class="ttname"><a href="../../d4/dd4/class_dir_def.html#abc75cce4fc67690a3ebbd158e3d63938">DirDef::subDirs</a></div><div class="ttdeci">virtual const DirList &amp; subDirs() const =0</div></div>
<div class="ttc" id="aclass_dir_def_html_afa5aedb69f8e651bb29d872f2f143a8d"><div class="ttname"><a href="../../d4/dd4/class_dir_def.html#afa5aedb69f8e651bb29d872f2f143a8d">DirDef::hasSubdirs</a></div><div class="ttdeci">virtual bool hasSubdirs() const =0</div></div>
<div class="ttc" id="aclass_dot_dir_property_builder_html"><div class="ttname"><a href="../../d1/d6f/class_dot_dir_property_builder.html">DotDirPropertyBuilder</a></div><div class="ttdoc">Builder helper to create instances of the DotDirProperty struct.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00047">dotdirdeps.cpp:48</a></div></div>
<div class="ttc" id="aclass_dot_dir_property_builder_html_a20342858b48a1b0233393928ffc85b57"><div class="ttname"><a href="../../d1/d6f/class_dot_dir_property_builder.html#a20342858b48a1b0233393928ffc85b57">DotDirPropertyBuilder::makeOriginal</a></div><div class="ttdeci">DotDirPropertyBuilder &amp; makeOriginal(bool b=true)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00053">dotdirdeps.cpp:53</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_a20837cde372c359b1ce5070096d472e0"><div class="ttname"><a href="#a20837cde372c359b1ce5070096d472e0">isAtMaxDepth</a></div><div class="ttdeci">static bool isAtMaxDepth(const DirDef *const directory, const int startLevel)</div><div class="ttdoc">Checks, if the directory is a the maximum drawn directory level.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00168">dotdirdeps.cpp:168</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_a3ec4e307f44771f6dfa0a0fe76c00495"><div class="ttname"><a href="#a3ec4e307f44771f6dfa0a0fe76c00495">drawClusterClosing</a></div><div class="ttdeci">static void drawClusterClosing(TextStream &amp;t)</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00204">dotdirdeps.cpp:204</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_a4cae8568157c4b4b1c9a96af855d2b85"><div class="ttname"><a href="#a4cae8568157c4b4b1c9a96af855d2b85">addDependencies</a></div><div class="ttdeci">static void addDependencies(DirRelations &amp;dependencies, const DirDef *const srcDir, bool isLeaf)</div><div class="ttdoc">Assembles a list of the directory relations and whether or not they result from &quot;inheritance&quot;.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00215">dotdirdeps.cpp:215</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_a840611db0f9ff308b7167b3fd3e0c4d2"><div class="ttname"><a href="#a840611db0f9ff308b7167b3fd3e0c4d2">drawDirectory</a></div><div class="ttdeci">static void drawDirectory(TextStream &amp;t, const DirDef *const directory, const DotDirProperty &amp;property, DirDefMap &amp;directoriesInGraph, int startLevel)</div><div class="ttdoc">Puts DOT code for drawing directory to stream and adds it to the list.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00155">dotdirdeps.cpp:155</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_a8c294bd8cf4c31b846744d5e5ca845fa"><div class="ttname"><a href="#a8c294bd8cf4c31b846744d5e5ca845fa">drawClusterOpening</a></div><div class="ttdeci">static void drawClusterOpening(TextStream &amp;outputStream, const DirDef *const directory, const DotDirProperty &amp;directoryProperty, DirDefMap &amp;directoriesInGraph, const bool isAncestor, int startLevel)</div><div class="ttdoc">Writes DOT code for opening a cluster subgraph to stream.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00179">dotdirdeps.cpp:179</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_aa598dce9105a7992d33b10a15beb70d5"><div class="ttname"><a href="#aa598dce9105a7992d33b10a15beb70d5">drawTree</a></div><div class="ttdeci">static void drawTree(DirRelations &amp;dependencies, TextStream &amp;t, const DirDef *const directory, int startLevel, DirDefMap &amp;directoriesInGraph, const bool isTreeRoot)</div><div class="ttdoc">Recursively draws directory tree.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00233">dotdirdeps.cpp:233</a></div></div>
<div class="ttc" id="astruct_dot_dir_property_html"><div class="ttname"><a href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a></div><div class="ttdoc">Properties are used to format the directories in the graph distinctively.</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00037">dotdirdeps.cpp:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00215">addDependencies()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00204">drawClusterClosing()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00179">drawClusterOpening()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00155">drawDirectory()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00233">drawTree()</a>, <a class="el" href="../../d4/dd4/class_dir_def.html#afa5aedb69f8e651bb29d872f2f143a8d">DirDef::hasSubdirs()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00168">isAtMaxDepth()</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00053">DotDirPropertyBuilder::makeOriginal()</a>, and <a class="el" href="../../d4/dd4/class_dir_def.html#abc75cce4fc67690a3ebbd158e3d63938">DirDef::subDirs()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00233">drawTree()</a>.</p>

</div>
</div>
<a id="a683792f7f7df231861acd54ff905211d" name="a683792f7f7df231861acd54ff905211d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a683792f7f7df231861acd54ff905211d">&#9670;&#160;</a></span>getDirectoryBackgroundColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d9/d45/class_q_c_string.html">QCString</a> getDirectoryBackgroundColor </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>depthIndex</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a DOT color name according to the directory depth. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00064">64</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>{</div>
<div class="line"><span class="lineno">   66</span>  <span class="keywordtype">int</span> hue   = <a class="code hl_define" href="../../db/d16/config_8h.html#a06b59c3720174e9078f613095a89b295">Config_getInt</a>(HTML_COLORSTYLE_HUE);</div>
<div class="line"><span class="lineno">   67</span>  <span class="keywordtype">int</span> sat   = <a class="code hl_define" href="../../db/d16/config_8h.html#a06b59c3720174e9078f613095a89b295">Config_getInt</a>(HTML_COLORSTYLE_SAT);</div>
<div class="line"><span class="lineno">   68</span>  <span class="keywordtype">int</span> gamma = <a class="code hl_define" href="../../db/d16/config_8h.html#a06b59c3720174e9078f613095a89b295">Config_getInt</a>(HTML_COLORSTYLE_GAMMA);</div>
<div class="line"><span class="lineno">   69</span>  assert(depthIndex&gt;=0 &amp;&amp; depthIndex&lt;=<a class="code hl_define" href="../../db/d16/config_8h.html#a06b59c3720174e9078f613095a89b295">Config_getInt</a>(DIR_GRAPH_MAX_DEPTH));</div>
<div class="line"><span class="lineno">   70</span>  <span class="keywordtype">float</span> fraction = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(depthIndex)/<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(<a class="code hl_define" href="../../db/d16/config_8h.html#a06b59c3720174e9078f613095a89b295">Config_getInt</a>(DIR_GRAPH_MAX_DEPTH));</div>
<div class="line"><span class="lineno">   71</span>  <span class="keyword">const</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="../../d8/d29/docbookgen_8cpp.html#a1748a7403991604b7f600589b77f9937">hex</a>[] = <span class="stringliteral">&quot;0123456789abcdef&quot;</span>;</div>
<div class="line"><span class="lineno">   72</span>  <span class="keywordtype">int</span> range = 0x40; <span class="comment">// range from darkest color to lightest color</span></div>
<div class="line"><span class="lineno">   73</span>  <span class="keywordtype">int</span> luma   = 0xef-<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(fraction*<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(range)); <span class="comment">// interpolation</span></div>
<div class="line"><span class="lineno">   74</span>  <span class="keywordtype">double</span> r=0, g=0, b=0;</div>
<div class="line"><span class="lineno">   75</span>  <a class="code hl_function" href="../../dc/da6/class_colored_image.html#aa28cffecb75cf52b6b457178851704c5">ColoredImage::hsl2rgb</a>(hue/360.0,sat/255.0,</div>
<div class="line"><span class="lineno">   76</span>                        pow(luma/255.0,gamma/100.0),&amp;r,&amp;g,&amp;b);</div>
<div class="line"><span class="lineno">   77</span>  <span class="keywordtype">int</span> red   = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(r*255.0);</div>
<div class="line"><span class="lineno">   78</span>  <span class="keywordtype">int</span> green = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(g*255.0);</div>
<div class="line"><span class="lineno">   79</span>  <span class="keywordtype">int</span> blue  = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(b*255.0);</div>
<div class="line"><span class="lineno">   80</span>  assert(red&gt;=0   &amp;&amp; red&lt;=255);</div>
<div class="line"><span class="lineno">   81</span>  assert(green&gt;=0 &amp;&amp; green&lt;=255);</div>
<div class="line"><span class="lineno">   82</span>  assert(blue&gt;=0  &amp;&amp; blue&lt;=255);</div>
<div class="line"><span class="lineno">   83</span>  <span class="keywordtype">char</span> colStr[8];</div>
<div class="line"><span class="lineno">   84</span>  colStr[0]=<span class="charliteral">&#39;#&#39;</span>;</div>
<div class="line"><span class="lineno">   85</span>  colStr[1]=<a class="code hl_variable" href="../../d8/d29/docbookgen_8cpp.html#a1748a7403991604b7f600589b77f9937">hex</a>[red&gt;&gt;4];</div>
<div class="line"><span class="lineno">   86</span>  colStr[2]=<a class="code hl_variable" href="../../d8/d29/docbookgen_8cpp.html#a1748a7403991604b7f600589b77f9937">hex</a>[red&amp;0xf];</div>
<div class="line"><span class="lineno">   87</span>  colStr[3]=<a class="code hl_variable" href="../../d8/d29/docbookgen_8cpp.html#a1748a7403991604b7f600589b77f9937">hex</a>[green&gt;&gt;4];</div>
<div class="line"><span class="lineno">   88</span>  colStr[4]=<a class="code hl_variable" href="../../d8/d29/docbookgen_8cpp.html#a1748a7403991604b7f600589b77f9937">hex</a>[green&amp;0xf];</div>
<div class="line"><span class="lineno">   89</span>  colStr[5]=<a class="code hl_variable" href="../../d8/d29/docbookgen_8cpp.html#a1748a7403991604b7f600589b77f9937">hex</a>[blue&gt;&gt;4];</div>
<div class="line"><span class="lineno">   90</span>  colStr[6]=<a class="code hl_variable" href="../../d8/d29/docbookgen_8cpp.html#a1748a7403991604b7f600589b77f9937">hex</a>[blue&amp;0xf];</div>
<div class="line"><span class="lineno">   91</span>  colStr[7]=0;</div>
<div class="line"><span class="lineno">   92</span>  <span class="comment">//printf(&quot;i=%d max=%d fraction=%f luma=%d %02x %02x %02x -&gt; color=%s\n&quot;,</span></div>
<div class="line"><span class="lineno">   93</span>  <span class="comment">//    depthIndex,Config_getInt(DIR_GRAPH_MAX_DEPTH),fraction,luma,red,green,blue,colStr);</span></div>
<div class="line"><span class="lineno">   94</span>  <span class="keywordflow">return</span> colStr;</div>
<div class="line"><span class="lineno">   95</span>}</div>
<div class="ttc" id="aclass_colored_image_html_aa28cffecb75cf52b6b457178851704c5"><div class="ttname"><a href="../../dc/da6/class_colored_image.html#aa28cffecb75cf52b6b457178851704c5">ColoredImage::hsl2rgb</a></div><div class="ttdeci">static void hsl2rgb(double h, double s, double l, double *pRed, double *pGreen, double *pBlue)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d11/image_8cpp_source.html#l00368">image.cpp:368</a></div></div>
<div class="ttc" id="aconfig_8h_html_a06b59c3720174e9078f613095a89b295"><div class="ttname"><a href="../../db/d16/config_8h.html#a06b59c3720174e9078f613095a89b295">Config_getInt</a></div><div class="ttdeci">#define Config_getInt(name)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d16/config_8h_source.html#l00034">config.h:34</a></div></div>
<div class="ttc" id="adocbookgen_8cpp_html_a1748a7403991604b7f600589b77f9937"><div class="ttname"><a href="../../d8/d29/docbookgen_8cpp.html#a1748a7403991604b7f600589b77f9937">hex</a></div><div class="ttdeci">static constexpr auto hex</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d29/docbookgen_8cpp_source.html#l01470">docbookgen.cpp:1470</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d16/config_8h_source.html#l00034">Config_getInt</a>, <a class="el" href="../../d8/d29/docbookgen_8cpp_source.html#l01470">hex</a>, and <a class="el" href="../../db/d11/image_8cpp_source.html#l00368">ColoredImage::hsl2rgb()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00179">drawClusterOpening()</a>, and <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00155">drawDirectory()</a>.</p>

</div>
</div>
<a id="aed9febe225f49a478f1ac4ab8c92786d" name="aed9febe225f49a478f1ac4ab8c92786d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed9febe225f49a478f1ac4ab8c92786d">&#9670;&#160;</a></span>getDirectoryBorderColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char * getDirectoryBorderColor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>property</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a DOT color name according to the directory properties. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00098">98</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   99</span>{</div>
<div class="line"><span class="lineno">  100</span>  <span class="keywordflow">if</span> (property.<a class="code hl_variable" href="../../d0/d22/struct_dot_dir_property.html#a13d7c0ae8df6a6a0d7d1298ce5b2fbd5">isTruncated</a> &amp;&amp; property.<a class="code hl_variable" href="../../d0/d22/struct_dot_dir_property.html#a725a202c71456e1caf086cdd20a9baf9">isOrphaned</a>)</div>
<div class="line"><span class="lineno">  101</span>  {</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;red&quot;</span>;</div>
<div class="line"><span class="lineno">  103</span>  }</div>
<div class="line"><span class="lineno">  104</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (property.<a class="code hl_variable" href="../../d0/d22/struct_dot_dir_property.html#a13d7c0ae8df6a6a0d7d1298ce5b2fbd5">isTruncated</a>)</div>
<div class="line"><span class="lineno">  105</span>  {</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;red&quot;</span>;</div>
<div class="line"><span class="lineno">  107</span>  }</div>
<div class="line"><span class="lineno">  108</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (property.<a class="code hl_variable" href="../../d0/d22/struct_dot_dir_property.html#a725a202c71456e1caf086cdd20a9baf9">isOrphaned</a>)</div>
<div class="line"><span class="lineno">  109</span>  {</div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;grey50&quot;</span>;</div>
<div class="line"><span class="lineno">  111</span>  }</div>
<div class="line"><span class="lineno">  112</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  113</span>  {</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;grey25&quot;</span>;</div>
<div class="line"><span class="lineno">  115</span>  }</div>
<div class="line"><span class="lineno">  116</span>}</div>
<div class="ttc" id="astruct_dot_dir_property_html_a13d7c0ae8df6a6a0d7d1298ce5b2fbd5"><div class="ttname"><a href="../../d0/d22/struct_dot_dir_property.html#a13d7c0ae8df6a6a0d7d1298ce5b2fbd5">DotDirProperty::isTruncated</a></div><div class="ttdeci">bool isTruncated</div><div class="ttdoc">true has successors, none is drawn</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00041">dotdirdeps.cpp:41</a></div></div>
<div class="ttc" id="astruct_dot_dir_property_html_a725a202c71456e1caf086cdd20a9baf9"><div class="ttname"><a href="../../d0/d22/struct_dot_dir_property.html#a725a202c71456e1caf086cdd20a9baf9">DotDirProperty::isOrphaned</a></div><div class="ttdeci">bool isOrphaned</div><div class="ttdoc">true if parent is not drawn</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00040">dotdirdeps.cpp:40</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00040">DotDirProperty::isOrphaned</a>, and <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00041">DotDirProperty::isTruncated</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00179">drawClusterOpening()</a>, and <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00155">drawDirectory()</a>.</p>

</div>
</div>
<a id="a6aa3fa8ed5c1cb6cfe4a5f821d1c776f" name="a6aa3fa8ed5c1cb6cfe4a5f821d1c776f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa3fa8ed5c1cb6cfe4a5f821d1c776f">&#9670;&#160;</a></span>getDirectoryBorderStyle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string getDirectoryBorderStyle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>property</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a DOT node style according to the directory properties. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00119">119</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>{</div>
<div class="line"><span class="lineno">  121</span>  std::string style = <span class="stringliteral">&quot;filled&quot;</span>;</div>
<div class="line"><span class="lineno">  122</span>  <span class="keywordflow">if</span> (property.<a class="code hl_variable" href="../../d0/d22/struct_dot_dir_property.html#ac8ed0c0d9a9e5638b80ba4d96b1f7b7b">isOriginal</a>)</div>
<div class="line"><span class="lineno">  123</span>  {</div>
<div class="line"><span class="lineno">  124</span>    style += <span class="stringliteral">&quot;,bold&quot;</span>;</div>
<div class="line"><span class="lineno">  125</span>  }</div>
<div class="line"><span class="lineno">  126</span>  <span class="keywordflow">if</span> (property.<a class="code hl_variable" href="../../d0/d22/struct_dot_dir_property.html#afa37640375733ea38413a589b3f90718">isIncomplete</a>)</div>
<div class="line"><span class="lineno">  127</span>  {</div>
<div class="line"><span class="lineno">  128</span>    style += <span class="stringliteral">&quot;,dashed&quot;</span>;</div>
<div class="line"><span class="lineno">  129</span>  }</div>
<div class="line"><span class="lineno">  130</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (property.<a class="code hl_variable" href="../../d0/d22/struct_dot_dir_property.html#a13d7c0ae8df6a6a0d7d1298ce5b2fbd5">isTruncated</a> &amp;&amp; property.<a class="code hl_variable" href="../../d0/d22/struct_dot_dir_property.html#a725a202c71456e1caf086cdd20a9baf9">isOrphaned</a>)</div>
<div class="line"><span class="lineno">  131</span>  {</div>
<div class="line"><span class="lineno">  132</span>    style += <span class="stringliteral">&quot;,dashed&quot;</span>;</div>
<div class="line"><span class="lineno">  133</span>  }</div>
<div class="line"><span class="lineno">  134</span>  <span class="keywordflow">return</span> style;</div>
<div class="line"><span class="lineno">  135</span>}</div>
<div class="ttc" id="astruct_dot_dir_property_html_ac8ed0c0d9a9e5638b80ba4d96b1f7b7b"><div class="ttname"><a href="../../d0/d22/struct_dot_dir_property.html#ac8ed0c0d9a9e5638b80ba4d96b1f7b7b">DotDirProperty::isOriginal</a></div><div class="ttdeci">bool isOriginal</div><div class="ttdoc">true if is the directory for which the graph is drawn</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00042">dotdirdeps.cpp:42</a></div></div>
<div class="ttc" id="astruct_dot_dir_property_html_afa37640375733ea38413a589b3f90718"><div class="ttname"><a href="../../d0/d22/struct_dot_dir_property.html#afa37640375733ea38413a589b3f90718">DotDirProperty::isIncomplete</a></div><div class="ttdeci">bool isIncomplete</div><div class="ttdoc">true if not all successors of a cluster are drawn</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00039">dotdirdeps.cpp:39</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00039">DotDirProperty::isIncomplete</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00042">DotDirProperty::isOriginal</a>, <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00040">DotDirProperty::isOrphaned</a>, and <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00041">DotDirProperty::isTruncated</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00137">common_attributes()</a>.</p>

</div>
</div>
<a id="a20837cde372c359b1ce5070096d472e0" name="a20837cde372c359b1ce5070096d472e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20837cde372c359b1ce5070096d472e0">&#9670;&#160;</a></span>isAtMaxDepth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool isAtMaxDepth </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *const</td>          <td class="paramname"><span class="paramname"><em>directory</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>startLevel</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks, if the directory is a the maximum drawn directory level. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00168">168</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  169</span>{</div>
<div class="line"><span class="lineno">  170</span>  <span class="keywordflow">return</span> (directory-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#a033ad6b8c0287ed15da29dadca48eb6f">level</a>() - startLevel) &gt;= <a class="code hl_define" href="../../db/d16/config_8h.html#a06b59c3720174e9078f613095a89b295">Config_getInt</a>(DIR_GRAPH_MAX_DEPTH);</div>
<div class="line"><span class="lineno">  171</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d16/config_8h_source.html#l00034">Config_getInt</a>, and <a class="el" href="../../d4/dd4/class_dir_def.html#a033ad6b8c0287ed15da29dadca48eb6f">DirDef::level()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00233">drawTree()</a>.</p>

</div>
</div>
<a id="ac4e7090b3ce2c42151afd6b83298096f" name="ac4e7090b3ce2c42151afd6b83298096f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e7090b3ce2c42151afd6b83298096f">&#9670;&#160;</a></span>writeDotDirDepGraph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeDotDirDepGraph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d30/class_text_stream.html">TextStream</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/dd4/class_dir_def.html">DirDef</a> *</td>          <td class="paramname"><span class="paramname"><em>dd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>linkRelations</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write DOT code for directory dependency graph. </p>
<p>Code is generated for a directory. Successors (sub-directories) of this directory are recursively drawn. Recursion is limited by <code>DIR_GRAPH_MAX_DEPTH</code>. The dependencies of those directories are drawn.</p>
<p>If a dependee is not part of directory tree above, then the dependency is drawn to the first parent of the dependee, whose parent is an ancestor (sub-directory) of the original directory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>stream where the DOT code is written to </td></tr>
    <tr><td class="paramname">dd</td><td>directory for which the graph is generated for </td></tr>
    <tr><td class="paramname">linkRelations</td><td>if true, hyperlinks to the list of file dependencies are added </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00287">287</a> of file <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html">dotdirdeps.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  288</span>{</div>
<div class="line"><span class="lineno">  289</span>  <a class="code hl_typedef" href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a> dirsInGraph;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>  dirsInGraph.emplace(dd-&gt;<a class="code hl_function" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">getOutputFileBase</a>().<a class="code hl_function" href="../../d9/d45/class_q_c_string.html#a875e9ad762554ef12f3ed69b015bb245">str</a>(),dd);</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>  std::vector&lt;const DirDef *&gt; usedDirsNotDrawn, usedDirsDrawn;</div>
<div class="line"><span class="lineno">  294</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; usedDir : dd-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#acf2258b5d619e2eb34f09dd33d34de0f">usedDirs</a>())</div>
<div class="line"><span class="lineno">  295</span>  {</div>
<div class="line"><span class="lineno">  296</span>    usedDirsNotDrawn.push_back(usedDir-&gt;dir());</div>
<div class="line"><span class="lineno">  297</span>  }</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>  <span class="keyword">auto</span> moveDrawnDirs = [&amp;usedDirsDrawn,&amp;usedDirsNotDrawn](<span class="keyword">const</span> std::vector&lt;const DirDef *&gt;::iterator &amp;newEnd)</div>
<div class="line"><span class="lineno">  300</span>  {</div>
<div class="line"><span class="lineno">  301</span>    <span class="comment">// usedDirsNotDrawn is split into two segments: [begin()....newEnd-1] and [newEnd....end()]</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="comment">// where the second segment starting at newEnd has been drawn, so append this segment to the usedDirsDrawn list and</span></div>
<div class="line"><span class="lineno">  303</span>    <span class="comment">// remove it from the usedDirsNotDrawn list.</span></div>
<div class="line"><span class="lineno">  304</span>    std::move(newEnd, std::end(usedDirsNotDrawn), std::back_inserter(usedDirsDrawn));</div>
<div class="line"><span class="lineno">  305</span>    usedDirsNotDrawn.erase(newEnd, usedDirsNotDrawn.end());</div>
<div class="line"><span class="lineno">  306</span>  };</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>  <span class="comment">// if dd has a parent draw it as the outer layer</span></div>
<div class="line"><span class="lineno">  309</span>  <span class="keyword">const</span> <span class="keyword">auto</span> <a class="code hl_function" href="../../de/d2b/docnode_8h.html#aa08872da61afee56859056e5a0612633">parent</a> = dd-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#a6ddd6f5e08f9a04cc43cf15e388bc2af">parent</a>();</div>
<div class="line"><span class="lineno">  310</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/d2b/docnode_8h.html#aa08872da61afee56859056e5a0612633">parent</a>)</div>
<div class="line"><span class="lineno">  311</span>  {</div>
<div class="line"><span class="lineno">  312</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d0/d22/struct_dot_dir_property.html">DotDirProperty</a> parentDirProperty = <a class="code hl_class" href="../../d1/d6f/class_dot_dir_property_builder.html">DotDirPropertyBuilder</a>().</div>
<div class="line"><span class="lineno">  313</span>                                             makeIncomplete().</div>
<div class="line"><span class="lineno">  314</span>                                             makeOrphaned(<a class="code hl_function" href="../../de/d2b/docnode_8h.html#aa08872da61afee56859056e5a0612633">parent</a>-&gt;parent()!=<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  315</span>    <a class="code hl_function" href="#a8c294bd8cf4c31b846744d5e5ca845fa">drawClusterOpening</a>(t, <a class="code hl_function" href="../../de/d2b/docnode_8h.html#aa08872da61afee56859056e5a0612633">parent</a>, parentDirProperty, dirsInGraph, <span class="keyword">true</span>, <a class="code hl_function" href="../../de/d2b/docnode_8h.html#aa08872da61afee56859056e5a0612633">parent</a>-&gt;level());</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    {</div>
<div class="line"><span class="lineno">  318</span>      <span class="comment">// draw all directories which have `dd-&gt;parent()` as parent and `dd` as dependent</span></div>
<div class="line"><span class="lineno">  319</span>      <span class="keyword">const</span> <span class="keyword">auto</span> newEnd = std::stable_partition(usedDirsNotDrawn.begin(), usedDirsNotDrawn.end(),</div>
<div class="line"><span class="lineno">  320</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="../../d4/dd4/class_dir_def.html">DirDef</a> *<span class="keyword">const</span> usedDir)</div>
<div class="line"><span class="lineno">  321</span>        {</div>
<div class="line"><span class="lineno">  322</span>          if (dd!=usedDir &amp;&amp; dd-&gt;parent()==usedDir-&gt;parent()) <span class="comment">// usedDir and dd share the same parent</span></div>
<div class="line"><span class="lineno">  323</span>          {</div>
<div class="line"><span class="lineno">  324</span>            const DotDirProperty usedDirProperty = DotDirPropertyBuilder().makeTruncated(usedDir-&gt;hasSubdirs());</div>
<div class="line"><span class="lineno">  325</span>            drawDirectory(t, usedDir, usedDirProperty, dirsInGraph, parent-&gt;level());</div>
<div class="line"><span class="lineno">  326</span>            return false; <span class="comment">// part of the drawn partition</span></div>
<div class="line"><span class="lineno">  327</span>          }</div>
<div class="line"><span class="lineno">  328</span>          <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// part of the not-drawn partition</span></div>
<div class="line"><span class="lineno">  329</span>        });</div>
<div class="line"><span class="lineno">  330</span>      moveDrawnDirs(newEnd);</div>
<div class="line"><span class="lineno">  331</span>    }</div>
<div class="line"><span class="lineno">  332</span>  }</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>  <span class="comment">// draw the directory tree with dd as root</span></div>
<div class="line"><span class="lineno">  335</span>  <a class="code hl_typedef" href="#a0540771f72e56700a0d30f72580d0065">DirRelations</a> dependencies;</div>
<div class="line"><span class="lineno">  336</span>  <a class="code hl_function" href="#aa598dce9105a7992d33b10a15beb70d5">drawTree</a>(dependencies, t, dd, dd-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#a033ad6b8c0287ed15da29dadca48eb6f">level</a>(), dirsInGraph, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="../../de/d2b/docnode_8h.html#aa08872da61afee56859056e5a0612633">parent</a>)</div>
<div class="line"><span class="lineno">  339</span>  {</div>
<div class="line"><span class="lineno">  340</span>    <a class="code hl_function" href="#a3ec4e307f44771f6dfa0a0fe76c00495">drawClusterClosing</a>(t);</div>
<div class="line"><span class="lineno">  341</span>  }</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>  <span class="comment">// add nodes for other used directories (i.e. outside of the cluster of directories directly connected to dd)</span></div>
<div class="line"><span class="lineno">  344</span>  {</div>
<div class="line"><span class="lineno">  345</span>    <span class="keyword">const</span> <span class="keyword">auto</span> newEnd = std::stable_partition(usedDirsNotDrawn.begin(), usedDirsNotDrawn.end(),</div>
<div class="line"><span class="lineno">  346</span>     [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="../../d4/dd4/class_dir_def.html">DirDef</a> *<span class="keyword">const</span> usedDir) <span class="comment">// for each used dir (=directly used or a parent of a directly used dir)</span></div>
<div class="line"><span class="lineno">  347</span>     {</div>
<div class="line"><span class="lineno">  348</span>       const DirDef *dir=dd;</div>
<div class="line"><span class="lineno">  349</span>       while (dir)</div>
<div class="line"><span class="lineno">  350</span>       {</div>
<div class="line"><span class="lineno">  351</span>         if (dir!=usedDir &amp;&amp; dir-&gt;parent()==usedDir-&gt;parent()) <span class="comment">// include if both have the same parent (or no parent)</span></div>
<div class="line"><span class="lineno">  352</span>         {</div>
<div class="line"><span class="lineno">  353</span>           const DotDirProperty usedDirProperty = DotDirPropertyBuilder().</div>
<div class="line"><span class="lineno">  354</span>                                                  makeOrphaned(usedDir-&gt;parent()!=nullptr).</div>
<div class="line"><span class="lineno">  355</span>                                                  makeTruncated(usedDir-&gt;hasSubdirs()).</div>
<div class="line"><span class="lineno">  356</span>                                                  makePeripheral();</div>
<div class="line"><span class="lineno">  357</span>           drawDirectory(t, usedDir, usedDirProperty, dirsInGraph, dir-&gt;level());</div>
<div class="line"><span class="lineno">  358</span>           return false; <span class="comment">// part of the drawn partition</span></div>
<div class="line"><span class="lineno">  359</span>         }</div>
<div class="line"><span class="lineno">  360</span>         dir=dir-&gt;parent();</div>
<div class="line"><span class="lineno">  361</span>       }</div>
<div class="line"><span class="lineno">  362</span>       <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// part of the not-drawn partition</span></div>
<div class="line"><span class="lineno">  363</span>     });</div>
<div class="line"><span class="lineno">  364</span>    moveDrawnDirs(newEnd);</div>
<div class="line"><span class="lineno">  365</span>  }</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>  <span class="comment">// add relations between all selected directories</span></div>
<div class="line"><span class="lineno">  368</span>  {</div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;relationPair : dependencies)</div>
<div class="line"><span class="lineno">  370</span>    {</div>
<div class="line"><span class="lineno">  371</span>      <span class="keyword">const</span> <span class="keyword">auto</span> &amp;relation         = relationPair.first;</div>
<div class="line"><span class="lineno">  372</span>      <span class="keyword">const</span> <span class="keywordtype">bool</span> directRelation    = relationPair.second;</div>
<div class="line"><span class="lineno">  373</span>      <span class="keyword">const</span> <span class="keyword">auto</span> udir              = relation-&gt;destination();</div>
<div class="line"><span class="lineno">  374</span>      <span class="keyword">const</span> <span class="keyword">auto</span> usedDir           = udir-&gt;dir();</div>
<div class="line"><span class="lineno">  375</span>      <span class="keyword">const</span> <span class="keywordtype">bool</span> destIsSibling     = std::find(std::begin(usedDirsDrawn), std::end(usedDirsDrawn), usedDir) != std::end(usedDirsDrawn);</div>
<div class="line"><span class="lineno">  376</span>      <span class="keyword">const</span> <span class="keywordtype">bool</span> destIsDrawn       = dirsInGraph.find(usedDir-&gt;getOutputFileBase().str())!=dirsInGraph.end(); <span class="comment">// only point to nodes that are in the graph</span></div>
<div class="line"><span class="lineno">  377</span>      <span class="keyword">const</span> <span class="keywordtype">bool</span> atMaxDepth        = <a class="code hl_function" href="#a20837cde372c359b1ce5070096d472e0">isAtMaxDepth</a>(usedDir, dd-&gt;<a class="code hl_function" href="../../d4/dd4/class_dir_def.html#a033ad6b8c0287ed15da29dadca48eb6f">level</a>());</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>      <span class="keywordflow">if</span> (destIsSibling || (destIsDrawn &amp;&amp; (directRelation || atMaxDepth)))</div>
<div class="line"><span class="lineno">  380</span>      {</div>
<div class="line"><span class="lineno">  381</span>        <span class="keyword">const</span> <span class="keyword">auto</span> relationName = relation-&gt;getOutputFileBase();</div>
<div class="line"><span class="lineno">  382</span>        <span class="keyword">const</span> <span class="keyword">auto</span> dir = relation-&gt;source();</div>
<div class="line"><span class="lineno">  383</span>        <a class="code hl_variable" href="../../de/d6a/class_doxygen.html#aeb009dfd4eca1e806843a68765b975db">Doxygen::dirRelations</a>.add(relationName,</div>
<div class="line"><span class="lineno">  384</span>            std::make_unique&lt;DirRelation&gt;(</div>
<div class="line"><span class="lineno">  385</span>               relationName,dir,udir));</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordtype">size_t</span> nrefs = udir-&gt;filePairs().size();</div>
<div class="line"><span class="lineno">  387</span>        t &lt;&lt; <span class="stringliteral">&quot;  &quot;</span> &lt;&lt; dir-&gt;getOutputFileBase() &lt;&lt; <span class="stringliteral">&quot;-&gt;&quot;</span></div>
<div class="line"><span class="lineno">  388</span>          &lt;&lt; usedDir-&gt;getOutputFileBase();</div>
<div class="line"><span class="lineno">  389</span>        t &lt;&lt; <span class="stringliteral">&quot; [headlabel=\&quot;&quot;</span> &lt;&lt; nrefs &lt;&lt; <span class="stringliteral">&quot;\&quot;, labeldistance=1.5&quot;</span>;</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">if</span> (linkRelations)</div>
<div class="line"><span class="lineno">  391</span>        {</div>
<div class="line"><span class="lineno">  392</span>          <a class="code hl_class" href="../../d9/d45/class_q_c_string.html">QCString</a> fn = relationName;</div>
<div class="line"><span class="lineno">  393</span>          <a class="code hl_function" href="../../df/d2d/util_8cpp.html#afeb116177e3265cffe5a3b810461194f">addHtmlExtensionIfMissing</a>(fn);</div>
<div class="line"><span class="lineno">  394</span>          t &lt;&lt; <span class="stringliteral">&quot; headhref=\&quot;&quot;</span> &lt;&lt; fn &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  395</span>          t &lt;&lt; <span class="stringliteral">&quot; href=\&quot;&quot;</span> &lt;&lt; fn &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  396</span>        }</div>
<div class="line"><span class="lineno">  397</span>        t &lt;&lt; <span class="stringliteral">&quot; color=\&quot;steelblue1\&quot; fontcolor=\&quot;steelblue1\&quot;];\n&quot;</span>;</div>
<div class="line"><span class="lineno">  398</span>      }</div>
<div class="line"><span class="lineno">  399</span>    }</div>
<div class="line"><span class="lineno">  400</span>  }</div>
<div class="line"><span class="lineno">  401</span>}</div>
<div class="ttc" id="aclass_dir_def_html"><div class="ttname"><a href="../../d4/dd4/class_dir_def.html">DirDef</a></div><div class="ttdoc">A model of a directory symbol.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d15/dirdef_8h_source.html#l00109">dirdef.h:110</a></div></div>
<div class="ttc" id="aclass_dir_def_html_a6ddd6f5e08f9a04cc43cf15e388bc2af"><div class="ttname"><a href="../../d4/dd4/class_dir_def.html#a6ddd6f5e08f9a04cc43cf15e388bc2af">DirDef::parent</a></div><div class="ttdeci">virtual DirDef * parent() const =0</div></div>
<div class="ttc" id="aclass_doxygen_html_aeb009dfd4eca1e806843a68765b975db"><div class="ttname"><a href="../../de/d6a/class_doxygen.html#aeb009dfd4eca1e806843a68765b975db">Doxygen::dirRelations</a></div><div class="ttdeci">static DirRelationLinkedMap dirRelations</div><div class="ttdef"><b>Definition</b> <a href="../../d1/da1/doxygen_8h_source.html#l00130">doxygen.h:130</a></div></div>
<div class="ttc" id="adocnode_8h_html_aa08872da61afee56859056e5a0612633"><div class="ttname"><a href="../../de/d2b/docnode_8h.html#aa08872da61afee56859056e5a0612633">parent</a></div><div class="ttdeci">constexpr DocNodeVariant * parent(DocNodeVariant *n)</div><div class="ttdoc">returns the parent node of a given node n or nullptr if the node has no parent.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d2b/docnode_8h_source.html#l01309">docnode.h:1309</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_a0540771f72e56700a0d30f72580d0065"><div class="ttname"><a href="#a0540771f72e56700a0d30f72580d0065">DirRelations</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; std::unique_ptr&lt; DirRelation &gt;, bool &gt; &gt; DirRelations</div><div class="ttdoc">Elements consist of (1) directory relation and (2) whether it is pointing only to inherited dependees...</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00061">dotdirdeps.cpp:61</a></div></div>
<div class="ttc" id="adotdirdeps_8cpp_html_aa012bdc6c0e896cccb8121b3c6b7ad60"><div class="ttname"><a href="#aa012bdc6c0e896cccb8121b3c6b7ad60">DirDefMap</a></div><div class="ttdeci">std::map&lt; std::string, const DirDef * &gt; DirDefMap</div><div class="ttdef"><b>Definition</b> <a href="../../da/d45/dotdirdeps_8cpp_source.html#l00034">dotdirdeps.cpp:34</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00179">drawClusterOpening()</a>, <a class="el" href="../../d5/dcc/class_definition.html#acabecdc6bfda2015811eed5f3436322d">Definition::getOutputFileBase()</a>, <a class="el" href="../../d4/dd4/class_dir_def.html#a6ddd6f5e08f9a04cc43cf15e388bc2af">DirDef::parent()</a>, <a class="el" href="../../de/d2b/docnode_8h_source.html#l01309">parent()</a>, <a class="el" href="../../d7/d5c/qcstring_8h_source.html#l00526">QCString::str()</a>, and <a class="el" href="../../d4/dd4/class_dir_def.html#acf2258b5d619e2eb34f09dd33d34de0f">DirDef::usedDirs()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d45/dotdirdeps_8cpp_source.html#l00417">DotDirDeps::computeTheGraph()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../da/d45/dotdirdeps_8cpp.html">dotdirdeps.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0 </li>
  </ul>
</div>
</body>
</html>
